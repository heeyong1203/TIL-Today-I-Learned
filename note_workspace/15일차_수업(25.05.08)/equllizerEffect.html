<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="./Rect.js"></script>
    <script>
        let count=40;
        let barWidth=4;
        let gap=1;
        let totalWidth=barWidth+gap;
        let height=5;
        let colorArray=["rgb(14, 162, 247)","rgb(14, 37, 247)","rgb(14, 247, 247)","rgb(14, 115, 247)",]
        let rectArray=[];
        
        function init(){
            let wrapper = document.createElement("div");
            wrapper.style.background="black"
            wrapper.style.width=1920+"px";
            wrapper.style.height=760+"px";
            wrapper.style.position="absolute";
            wrapper.style.left="50%"
            wrapper.style.top="50%"
            wrapper.style.transform="translate(-50%, -50%) scaleY(-1)";
            
            document.body.appendChild(wrapper);
            
            let totalBarWidth=count*totalWidth;
            let startX=(wrapper.clientWidth-totalBarWidth) / 2

            for(let i=0;i<count;i++){
                let bg = colorArray[parseInt(Math.random()*colorArray.length)];

                let rect = new Rect(wrapper, startX+i*totalWidth, 160, barWidth, height, bg);
                rectArray.push(rect);
            }

        }
        function gameLoop(){
            rectArray[parseInt(Math.random()*rectArray.length)].targetH=Math.random()*10;
        }

        addEventListener("load", function(){
            init();
            setInterval(gameLoop, 1);
        })
    </script>
</head>
<body>
    
</body>
</html>