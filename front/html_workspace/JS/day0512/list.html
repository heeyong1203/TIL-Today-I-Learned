<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        // alert("나를 생성시킨 오프너의 변수값은 "+window.opener.x);
        // let storeList=[];

        // store1={
        //     store_name:"김밥천국",
        //     tel:"02-255-0000",
        //     pos:"37.11111, 127.2515"
        // }
        // store2={
        //     store_name:"종로돈까스",
        //     tel:"02-254-0000",
        //     pos:"37.11025, 127.2005"
        // }
        
        // store3={
        //     store_name:"강남횟집",
        //     tel:"02-255-0000",
        //     pos:"37.11250, 127.2315"
        // }

        // storeList.push(store1);
        // storeList.push(store2);
        // storeList.push(store3);


        // 등록 시 누적된 맛집들의 리스트를 테이블로 동적 출력
        function printTable(){
            let tag="<table width='100%' border='1px'>";
            tag+="<tr>"
            tag+="<td>No</td>";
            tag+="<td>상호명</td>";
            tag+="<td>연락처</td>";
            tag+="<td>위도경도</td>";
            tag+="<td>대표사진</td>";
            tag+="</tr>"
            
            // 부모 html 문서 내의 storeList를 불러오자
            let n=window.opener.storeList.length;

            for(let i=0; i<window.opener.storeList.length; i++){
                let store=window.opener.storeList[i]
                tag+="<tr>"
                tag+="<td>"+(n--)+"</td>";
                tag+="<td>"+store.store_name+"</td>";
                tag+="<td>"+store.tel+"</td>";
                tag+="<td>"+store.pos+"</td>";
                tag+="<td>대표사진</td>";
                tag+="</tr>"
            }
            tag+="</table>";
            
            document.body.innerHTML=tag;
        }

        addEventListener("load", function(){
            printTable();
        });

    </script>
</head>
<body>
    
</body>
</html>