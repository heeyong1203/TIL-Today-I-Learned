<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body{
            margin: 0;
        }
        
    #app {
        width: 1400px;
        height: 800px;
        background-color: aqua;
        display: flex;
    }
    
    #aside_regist, #aside_detail {
        width: 160px;
        padding: 20px;
        background-color: #2563eb; /* 톤 다운 파란색 */
        color: white;
        font-family: 'Noto Sans KR', sans-serif;
        display: flex;
        flex-direction: column;
        gap: 5px;
    }
    
    #aside_regist input,
    #aside_detail input,
    #aside_regist textarea,
    #aside_detail textarea{
        width: 90%;    
        background-color: #ffffff;
        border: none;
        border-radius: 4px;
        padding: 8px;
        margin-bottom: 10px;
    }
    
    #aside_regist textarea,
    #aside_detail textarea {
        height: 100px;
        resize: none;
    }
    
    #aside_regist input[type="button"], 
    #aside_detail input[type="button"]{
        background-color: white;
        color: #2563eb;
        font-weight: bold;
        border: none;
        cursor: pointer;
        border-radius: 6px;
        transition: 0.3s;
        display: block;
        margin: 0 auto;
        margin-bottom: 15px;
    }

    #aside_regist input[type="button"]:hover,
    #aside_detail input[type="button"]:hover {
        background-color: #e0e7ff;
    }
    
    label {
        font-size: 16px;
        font-weight: bold;
        margin-top: 5px;
    }
    
    #content {
        flex: 1;
        display: flex;
        flex-direction: column;
    }
    
    #content_header {
        height: 75px;
        background-color: #d1d3d4;
    }
    
    #content_list {
        flex: 1;
        background-color: #f9c74f;
    }
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
</head>
<body>
    <div id="app">
        <div id="aside_regist">
            <form id="form1">
                <label>제목</label>
                <input type="text" name="title" />
                <label>작성자</label>
                <input type="text" name="writer" />
                <label>내용</label>
                <textarea name="content"></textarea>
                <input type="button" @click="regist()" value="등록" />
                <input type="button" @click="getList()" value="목록" />
            </form>
        </div>

        <div id="content">
            <div id="content_header"></div>
            <div id="content_list">
                <table width="100%" border="1px">
                    <thead>
                        <tr>
                            <th>No</th>
                            <th>title</th>
                            <th>writer</th>
                            <th>regdate</th>
                            <th>hit</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr v-for="board in boardList">
                            <td>{{board.board_id}}</td>
                            <td>{{board.title}}</td>
                            <td>{{board.writer}}</td>
                            <td>{{board.regdate}}</td>
                            <td>{{board.hit}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div id="aside_detail">
            <form id="form2">
                <label>제목</label>
                <input type="text" name="title" />
                <label>작성자</label>
                <input type="text" name="writer" />
                <label>내용</label>
                <textarea name="content"></textarea>
                <input type="button" value="수정" />
                <input type="button" value="삭제" />
            </form>
        </div>
    </div>

    <script>
        const app=Vue.createApp({
            data(){
                return{
                    data:{
                        boardList:["","","",""]
                    }
                }
            },
            methods:{
                //비동기 글쓰기 요청
                regist(){
                    $.ajax({
                        url:"http://192.168.60.50:9999/shop/boards",
                        type:"POST",
                        contentType:"application/json",
                        data:JSON.stringify({
                            title:$("#form1 input[name='title']").val(),
                            writer:$("#form1 input[name='writer']").val(),
                            content:$("#form1 textarea[name='content']").val()
                        }),
                        success:function(result,status,xhr){
                            console.log(result);
                            this.boardList=result;
                        },
                        error:function(xhr,status,err){
                            console.log(err);
                        }
                    });
                },
                //목록 메서드 정의
                getList(){
                    $.ajax({
                        url:"http://192.168.60.50:9999/shop/boards",
                        type:"GET",
                        success:function(result,status,xhr){
                            console.log(result);
                        },
                        error:function(xhr,status,err){
                            console.log(err);
                        }
                    })
                }
            }
        });

        app.mount("#app");
    </script>
</body>
</html>